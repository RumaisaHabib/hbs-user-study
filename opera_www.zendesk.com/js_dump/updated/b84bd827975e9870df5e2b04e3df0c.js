var OneTrustStub=function(t){"use strict";var u=new function(){this.optanonCookieName="OptanonConsent",this.optanonHtmlGroupData=[],this.optanonHostData=[],this.genVendorsData=[],this.vendorsServiceData=[],this.IABCookieValue="",this.oneTrustIABCookieName="eupubconsent",this.oneTrustIsIABCrossConsentEnableParam="isIABGlobal",this.isStubReady=!0,this.geolocationCookiesParam="geolocation",this.EUCOUNTRIES=["BE","BG","CZ","DK","DE","EE","IE","GR","ES","FR","IT","CY","LV","LT","LU","HU","MT","NL","AT","PL","PT","RO","SI","SK","FI","SE","GB","HR","LI","NO","IS"],this.stubFileName="otSDKStub",this.DATAFILEATTRIBUTE="data-domain-script",this.bannerScriptName="otBannerSdk.js",this.mobileOnlineURL=[],this.isMigratedURL=!1,this.migratedCCTID="[[OldCCTID]]",this.migratedDomainId="[[NewDomainId]]",this.userLocation={country:"",state:""}};(l=m=m||{})[l.Days=1]="Days",l[l.Weeks=7]="Weeks",l[l.Months=30]="Months",l[l.Years=365]="Years",(l=e=e||{}).Name="OTGPPConsent",l[l.ChunkSize=4e3]="ChunkSize",l.ChunkCountParam="GPPCookiesCount",(l={CPRA:8,8:"CPRA",CCPA:8})[8]="CCPA",l[l.CDPA=9]="CDPA",l[l.USNATIONAL=7]="USNATIONAL",l[l.COLORADO=10]="COLORADO",l[l.UCPA=11]="UCPA",l[l.CTDPA=12]="CTDPA";var r,e,a="geo",o="otpreview",s=(e.Name,"PRODUCTION"),n=((l={})[m.Days]="PCenterVendorListLifespanDay",l[m.Weeks]="LfSpnWk",l[m.Months]="PCenterVendorListLifespanMonth",l[m.Years]="LfSpnYr",i.prototype.camelize=function(t){},i.prototype.strToObj=function(t){},i);function i(){}function p(t,e,i){}(e=r=r||{}).ping="ping",e.addEventListener="addEventListener",e.removeEventListener="removeEventListener",e.hasSection="hasSection",e.getSection="getSection",e.getField="getField",e.getGPPData="getGPPData";var c=new function(){var s=this;this.LOCATOR_NAME="__gppLocator",this.win=window,this.customInit="CUSTOMINIT",this.init=function(){},this.removeGppApi=function(){delete s.win.__gpp;var t=document.querySelectorAll("iframe[name="+s.LOCATOR_NAME+"]")[0];t&&t.parentElement.removeChild(t)},this.executeGppApi=function(){},this.getPingRequest=function(t){},this.addFrame=function(t){},this.addEventListener=function(t,e){},this.removeEventListener=function(e){},this.addToQueue=function(t,e,i){},this.messageHandler=function(i){},this.customInit||this.init()},l=(d.prototype.initConsentSDK=function(){this.initCustomEventPolyfill(),this.ensureHtmlGroupDataInitialised(),this.setStubScriptElement(),this.setOTDataLayer(),this.getParam(),this.fetchBannerSDKDependency(),this.captureNonce()},d.prototype.captureNonce=function(){this.nonce=u.stubScriptElement.nonce||u.stubScriptElement.getAttribute("nonce")||null},d.prototype.fetchBannerSDKDependency=function(){this.setDomainDataFileURL(),this.crossOrigin=u.stubScriptElement.getAttribute("crossorigin")||null,this.previewMode="true"===u.stubScriptElement.getAttribute("data-preview-mode"),this.otFetch(u.bannerDataParentURL,this.getLocation.bind(this))},d.prototype.setDomainIfBulkDomainEnabled=function(t){var e=t&&t.TenantFeatures,i=window.location.hostname,n=t.Domain,a=t.BulkDomainCheckUrl;e&&e.CookieV2BulkDomainManagement&&i!==n&&t.ScriptType===s&&((e=window.sessionStorage)&&e.getItem("bulkDomainMgmtEnabled")?this.handleBulkDomainMgmt({isValid:"true"===window.sessionStorage.getItem("bulkDomainMgmtEnabled")},t):(n={location:u.storageBaseURL.replace(/^https?:\/\//,""),domainId:this.domainId,url:i},this.otFetch(a,this.handleBulkDomainMgmt,!1,n,t)))},d.prototype.getLocation=function(t){if(this.setDomainIfBulkDomainEnabled(t),(t.TenantFeatures&&t.TenantFeatures.CookieV2CSP||t.CookieV2CSPEnabled)&&this.nonce&&(this.setAttributePolyfillIsActive=!0,(new n).implementThePolyfill()),!t.RuleSet[0].Type)return this.iabTypeAdded=!1,window.__cmp=this.executeCmpApi,window.__tcfapi=this.executeTcfApi,this.intializeIabStub(),this.addBannerSDKScript(t);var e,i=window;i.OneTrust&&i.OneTrust.geolocationResponse?(i=i.OneTrust.geolocationResponse,this.setGeoLocation(i.countryCode,i.stateCode),this.addBannerSDKScript(t)):(i=this.readCookieParam(u.optanonCookieName,u.geolocationCookiesParam))||t.SkipGeolocation?(e=i.split(";")[0],i=i.split(";")[1],this.setGeoLocation(e,i),this.addBannerSDKScript(t)):this.getGeoLocation(t)},d.prototype.handleBulkDomainMgmt=function(t,e){},d.prototype.getGeolocationURL=function(t){t.TenantFeatures;var e=""+u.stubScriptElement.getAttribute("src").split(u.stubFileName)[0]+t.Version;return new RegExp("^file://","i").test(e)&&t.MobileSDK?(e="/"+t.GeolocationUrl.replace(/^(http|https):\/\//,"").split("/").slice(1).join("/")+".js",u.storageBaseURL+e):t.GeolocationUrl},d.prototype.geoLocationJsonCallback=function(t,e){e&&this.setGeoLocation(e.country,e.state),this.addBannerSDKScript(t)},d.prototype.getGeoLocation=function(t){var e=this.getGeolocationURL(t);this.otFetch(e,this.geoLocationJsonCallback.bind(this,t),!0)},d.prototype.setOTDataLayer=function(){var t="data-dLayer-ignore",e=u.stubScriptElement.hasAttribute(t),t=u.stubScriptElement.getAttribute(t);this.otDataLayer={ignore:e&&"true"===t||e&&""===t,name:u.stubScriptElement.getAttribute("data-dLayer-name")||"dataLayer"}},d.prototype.setGeoLocation=function(t,e){u.userLocation={country:t,state:e=void 0===e?"":e}},d.prototype.otFetch=function(t,i,e,n,a){void 0===e&&(e=!1),void 0===n&&(n=null);var o=window.sessionStorage&&window.sessionStorage.getItem("otPreviewData");if(new RegExp("^file://","i").test(t))this.otFetchOfflineFile(t,i);else if(0<=t.indexOf("/consent/")&&this.previewMode&&o){o=JSON.parse(o).domainJson;i(o)}else{u.mobileOnlineURL.push(t);var s=new XMLHttpRequest;if(s.onload=function(t){var e;this&&this.responseText?e=this.responseText:t&&t.target&&(e=t.target.responseText),a?i(JSON.parse(e),a):i(JSON.parse(e))},s.onerror=function(){},s.open("GET",t),s.withCredentials=!1,e&&s.setRequestHeader("accept","application/json"),n)for(var r in n)s.setRequestHeader(r,n[r]);s.send()}},d.prototype.otFetchOfflineFile=function(t,e){},d.prototype.jsonp=function(t,e){var i=document.createElement("script");i.setAttribute("src",t),this.nonce&&i.setAttribute("nonce",this.nonce),i.async=!0,i.type="text/javascript",this.crossOrigin&&i.setAttribute("crossorigin",this.crossOrigin),document.getElementsByTagName("head")[0].appendChild(i),new RegExp("^file://","i").test(t)||u.mobileOnlineURL.push(t),e&&(i.onload=i.onerror=function(){})},d.prototype.getRegionSet=function(t){var e,i,n,a=u.userLocation,o=t.RuleSet.filter(function(t){return!0===t.Default});if(!a.country&&!a.state)return o&&0<o.length?o[0]:null;for(var s=a.state.toLowerCase(),r=a.country.toLowerCase(),p=0;p<t.RuleSet.length;p++)if(!0===t.RuleSet[p].Global)n=t.RuleSet[p];else{var l=t.RuleSet[p].States;if(l[r]&&0<=l[r].indexOf(s)){i=t.RuleSet[p];break}0<=t.RuleSet[p].Countries.indexOf(r)&&(e=t.RuleSet[p])}return i||e||n},d.prototype.ensureHtmlGroupDataInitialised=function(){this.initializeIABData(),this.initializeGroupData(),this.initializeHostData(),this.initializeGenVenData()},d.prototype.initializeGroupData=function(){var t=this.readCookieParam(u.optanonCookieName,"groups");t&&(u.optanonHtmlGroupData=this.deserialiseStringToArray(t))},d.prototype.initializeHostData=function(){var t=this.readCookieParam(u.optanonCookieName,"hosts");t&&(u.optanonHostData=this.deserialiseStringToArray(t))},d.prototype.initializeGenVenData=function(){var t=this.readCookieParam(u.optanonCookieName,"genVendors");t&&(u.genVendorsData=this.deserialiseStringToArray(t))},d.prototype.initializeIABData=function(){this.validateIABGDPRApplied(),this.validateIABGlobalScope()},d.prototype.validateIABGlobalScope=function(){var t=this.readCookieParam(u.optanonCookieName,u.oneTrustIsIABCrossConsentEnableParam);t?"true"===t?(u.hasIABGlobalScope=!0,u.isStubReady=!1):(u.hasIABGlobalScope=!1,u.IABCookieValue=this.getCookie(u.oneTrustIABCookieName)):u.isStubReady=!1},d.prototype.validateIABGDPRApplied=function(){var t=this.readCookieParam(u.optanonCookieName,u.geolocationCookiesParam).split(";")[0];t?this.isBoolean(t)?u.oneTrustIABgdprAppliesGlobally="true"===t:u.oneTrustIABgdprAppliesGlobally=0<=u.EUCOUNTRIES.indexOf(t):u.isStubReady=!1},d.prototype.isBoolean=function(t){},d.prototype.readCookieParam=function(t,e){var i,n,a,o,t=this.getCookie(t);if(t){for(n={},a=t.split("&"),i=0;i<a.length;i+=1)o=a[i].split("="),n[decodeURIComponent(o[0])]=decodeURIComponent(o[1]).replace(/\+/g," ");return e&&n[e]?n[e]:e&&!n[e]?"":n}return""},d.prototype.getCookie=function(t){if(this.isAmp){var e=JSON.parse(window.localStorage.getItem(this.domainId))||{};if(e)return e[t]||null}for(var i,n=t+"=",a=document.cookie.split(";"),o=0;o<a.length;o+=1){for(i=a[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(n))return i.substring(n.length,i.length)}return null},d.prototype.updateGtmMacros=function(){for(var t=[],e=u.optanonHtmlGroupData.length,i=0;i<e;i++)this.endsWith(u.optanonHtmlGroupData[i],":1")&&t.push(u.optanonHtmlGroupData[i].replace(":1",""));for(e=u.optanonHostData.length,i=0;i<e;i++)this.endsWith(u.optanonHostData[i],":1")&&t.push(u.optanonHostData[i].replace(":1",""));for(e=u.genVendorsData.length,i=0;i<e;i++)this.endsWith(u.genVendorsData[i],":1")&&t.push(u.genVendorsData[i].replace(":1",""));for(e=u.vendorsServiceData.length,i=0;i<e;i++)this.endsWith(u.vendorsServiceData[i],":1")&&t.push(u.vendorsServiceData[i].replace(":1",""));var n,a=","+this.serialiseArrayToString(t)+",",o=(window.OnetrustActiveGroups=a,window.OptanonActiveGroups=a,window),s=(this.otDataLayer.ignore||void 0===o[this.otDataLayer.name]?this.otDataLayer.ignore||(o[this.otDataLayer.name]=[{event:"OneTrustLoaded",OnetrustActiveGroups:a},{event:"OptanonLoaded",OptanonActiveGroups:a}]):o[this.otDataLayer.name].constructor===Array&&(o[this.otDataLayer.name].push({OnetrustActiveGroups:a}),o[this.otDataLayer.name].push({OptanonActiveGroups:a})),new CustomEvent("consent.onetrust",{detail:t}));!this.otDataLayer.ignore&&t.length&&(o[this.otDataLayer.name].constructor===Array&&o[this.otDataLayer.name].push({event:"OneTrustGroupsUpdated",OnetrustActiveGroups:a}),n=new CustomEvent("OneTrustGroupsUpdated",{detail:t})),setTimeout(function(){t.length&&window.dispatchEvent(s),n&&window.dispatchEvent(n)})},d.prototype.deserialiseStringToArray=function(t){return t?t.split(","):[]},d.prototype.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},d.prototype.serialiseArrayToString=function(t){return t.toString()},d.prototype.setStubScriptElement=function(){u.stubScriptElement=document.querySelector("script[src*='"+u.stubFileName+"']");var t=u.stubScriptElement&&0<=u.stubScriptElement.getAttribute("src").indexOf("did=");u.stubScriptElement&&u.stubScriptElement.hasAttribute(u.DATAFILEATTRIBUTE)?this.domainId=u.stubScriptElement.getAttribute(u.DATAFILEATTRIBUTE).trim():t?this.domainId=u.stubScriptElement.getAttribute("src").split("did=")[1]:u.stubScriptElement||(u.stubScriptElement=document.querySelector("script[src*='"+u.migratedCCTID+"']"),u.stubScriptElement&&(u.isMigratedURL=!0,this.domainId=u.migratedDomainId.trim()))},d.prototype.setDomainDataFileURL=function(){var t=u.stubScriptElement.getAttribute("src"),e=-1<t.indexOf("/consent");t&&(u.isMigratedURL?u.storageBaseURL=t.split("/consent/"+u.migratedCCTID)[0]:u.storageBaseURL=(e?t.split("/consent"):t.split("/scripttemplates/"+u.stubFileName))[0]),this.storageBaseURL=u.storageBaseURL,this.isPreview&&-1===this.domainId.indexOf("test")?this.domainId=this.domainId+"-test":this.isPreview=!1,u.bannerBaseDataURL=u.storageBaseURL&&u.storageBaseURL+"/consent/"+this.domainId,u.bannerDataParentURL=u.bannerBaseDataURL+"/"+this.domainId+".json"},d.prototype.initCustomEventPolyfill=function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){}t.prototype=window.Event.prototype,window.CustomEvent=t},d.prototype.removeTcf=function(){delete window.__tcfapi;var t=document.querySelectorAll("iframe[name='__tcfapiLocator']")[0];t&&t.parentElement.removeChild(t)},d.prototype.getParamForIE=function(){},d.prototype.getParam=function(){window.document.documentMode||!window.URLSearchParams?this.urlParams=this.getParamForIE():this.urlParams=new URLSearchParams(window.location.search);var t="true"===this.urlParams.get("otreset"),e="true"===this.urlParams.get("otpreview"),i=(this.geoFromUrl=(this.urlParams.get("otgeo")||"").toLowerCase(),this.readCookieParam(o,"expiry")),n=this.readCookieParam(o,a);this.isReset=t||i&&new Date(i)<new Date,this.isPreview=!this.isReset&&(e||i&&new Date(i)>new Date),this.setGeoParam(this.geoFromUrl||n)},d.prototype.setGeoParam=function(t){var e;t&&((e=window).OneTrust||(e.OneTrust={}),t=t.split(","),e.OneTrust.geolocationResponse={countryCode:t[0],stateCode:t[1]})},d);function d(){var l=this;this.iabType=null,this.iabTypeAdded=!0,this.crossOrigin=null,this.isAmp=!1,this.domainId="",this.isReset=!1,this.isPreview=!1,this.geoFromUrl="",this.nonce="",this.setAttributePolyfillIsActive=!1,this.storageBaseURL="",this.charset=null,this.addBannerSDKScript=function(t){var e=l.getRegionSet(t),i=(e.GCEnable||(l.updateGtmMacros(),l.gtmUpdated=!0),l.iabTypeAdded&&("IAB"!==e.Type&&"IAB2"!==e.Type||(l.iabType=e.Type,l.intializeIabStub()),"IAB2"!==e.Type)&&l.removeTcf(),e.IsGPPEnabled?c.init():c.removeGppApi(),u.stubScriptElement.cloneNode(!0)),n="",n=t.UseSDKRefactor?(u.isMigratedURL&&(i.src=u.storageBaseURL+"/scripttemplates/new/scripttemplates/"+u.stubFileName+".js"),u.storageBaseURL+"/scripttemplates/new/scripttemplates/"+t.Version+"/"+u.bannerScriptName):"5.11.0"===t.Version?(u.isMigratedURL&&(i.src=u.storageBaseURL+"/scripttemplates/old/scripttemplates/"+u.stubFileName+".js"),u.storageBaseURL+"/scripttemplates/old/scripttemplates/5.11.0/"+u.bannerScriptName):(u.isMigratedURL&&(i.src=u.storageBaseURL+"/scripttemplates/"+u.stubFileName+".js"),u.storageBaseURL+"/scripttemplates/"+t.Version+"/"+u.bannerScriptName);["charset","data-language","data-document-language","data-domain-script","crossorigin","data-ignore-ga"].forEach(function(t){u.stubScriptElement.getAttribute(t)&&i.setAttribute(t,u.stubScriptElement.getAttribute(t))}),l.charset=u.stubScriptElement.getAttribute("charset"),l.isAmp=!!u.stubScriptElement.getAttribute("amp"),window.otStubData={bannerBaseDataURL:u.bannerBaseDataURL,crossOrigin:l.crossOrigin,domainData:t,domainId:l.domainId,geoFromUrl:l.geoFromUrl,isAmp:l.isAmp,isPreview:l.isPreview,isReset:l.isReset,mobileOnlineURL:u.mobileOnlineURL,nonce:l.nonce,otDataLayer:l.otDataLayer,regionRule:e,setAttributePolyfillIsActive:l.setAttributePolyfillIsActive,storageBaseURL:l.storageBaseURL,stubElement:i,urlParams:l.urlParams,userLocation:u.userLocation,gtmUpdated:l.gtmUpdated,previewMode:l.previewMode,charset:l.charset},l.jsonp(n,null)},this.intializeIabStub=function(){},this.addIabFrame=function(){},this.addBackwardIabFrame=function(){},this.addLocator=function(t,e){},this.receiveIabMessage=function(i){},this.executeCmpApi=function(){},this.executeTcfApi=function(){},this.addToQueue=function(t,e,i,n){},this.getPingRequest=function(t,e){},this.getConsentDataRequest=function(t){},this.initConsentSDK()}var m=new l;return t.OtSDKStub=l,t.otSdkStub=m,t}({});
