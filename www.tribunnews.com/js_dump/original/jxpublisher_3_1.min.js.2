!function(){return function e(t,i,n){function r(d,s){if(!i[d]){if(!t[d]){var c="function"==typeof require&&require;if(!s&&c)return c(d,!0);if(o)return o(d,!0);var a=new Error("Cannot find module '"+d+"'");throw a.code="MODULE_NOT_FOUND",a}var u=i[d]={exports:{}};t[d][0].call(u.exports,function(e){return r(t[d][1][e]||e)},u,u.exports,e,t,i,n)}return i[d].exports}for(var o="function"==typeof require&&require,d=0;d<n.length;d++)r(n[d]);return r}}()({1:[function(e,t,i){!function(){const t=e("./js/ids.js"),i=e("./js/events.js"),n=e("just-detect-adblock"),r={ua:"https://traid.jixie.io/sync/prod",delay:0,bids:!1,tr:!0,up:!1,eidlist:[],uid2:!1,accountid:null,pmids:{},ids:{eids:{}},ab:!1,su:!1};function o(e,t){return e.accountid||t.accountid&&(e.accountid=t.accountid,e.bids&&(window._jxbidsq=window._jxbidsq||[],window._jxbidsq.push(["accountid",e.accountid]))),e.accountid}const d={partner_cookie:"kmps_usrid"};function s(){let s=window.jixie_o?window.jixie_o:d,c=null;s.logbids&&(c=e("././js/bidsreporter"));let a=function(e){let i=Object.assign({},r);return window.JXTRTESTENV&&(i.ua="https://traidxxxx.jixie.io/sync/prod"),"9262bf2590d558736cac4fff7978fcb1"==e.accountid&&-1==e.external_ids.indexOf("jxtoko")&&e.external_ids.push("jxtoko"),e.accountid&&(i.accountid=e.accountid),void 0!==e.idsonly&&e.idsonly&&(i.idsonly=!0),isNaN(e.delay)||(i.delay=e.delay),(navigator.doNotTrack||window.doNotTrack)&&("1"!==window.doNotTrack&&"1"!==navigator.doNotTrack&&"yes"!==navigator.doNotTrack||(i.tr=!1)),void 0===e.track||e.track||(i.tr=!1),e.userprofile&&(i.up=!0),e.logbids&&(i.bids=!0),i.uid2=t.getDoUid2(e.external_ids),i.tr&&e.external_ids&&e.external_ids.length>0&&(i.eidlist=t.getLegitEids(e.external_ids)),i}(s);a.tr&&(a.pmids=t.getpmidsObj(s.partner_cookie,s.sha256mail_cookie,s.sha256mail,s.md5mail)),a.uid2?t.u2trigger(a.pmids):setTimeout(t.u2clear,4e3);let u=i.unbProcessEvts.bind(null,a);i.setEvtSendDelaySec(s.delay);let l=s.ad_blocker?n.detectAnyAdblocker():Promise.resolve(!1),f=s.delay?s.delay:0;f>0&&(f=Math.round(1e3*f));f?(p=f,new Promise(function(e){setTimeout(function(){e(!0)},p)})):Promise.resolve(!0);var p;let h=Promise.all([l]);var m=window.jixie_p;window.jixie_p=new function(){this.push=function(){for(var e=0;e<arguments.length;e++)try{let t=arguments[e];h.then(function(e){a.ab=e[0],(a.accountid||o(a,t))&&u(t)})}catch(e){}}};var w=!1;m&&(w=m.length>0,window.jixie_p.push.apply(window.jixie_p,m)),setTimeout(function(){window.jixie_p.push({action:"autovisit",parameters:{}})},4e3),w||a.idsonly&&t.getGetIdsPromise(a)}var c,a,u,l;c=window,a=document,c.jxtrkr||(c.jxtrkr={},!window.Promise||!window.ActiveXObject&&"ActiveXObject"in window?(u=document.createElement("script"),(l=document.getElementsByTagName("script")[0]).parentNode.insertBefore(u,l),u.src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js",setTimeout(s,3e3)):/comp|inter|loaded/.test(a.readyState)?s():a.addEventListener("DOMContentLoaded",s))}()},{"././js/bidsreporter":2,"./js/events.js":3,"./js/ids.js":4,"just-detect-adblock":6}],2:[function(e,t,i){!function(){var e=!1,i=!1,n=[],r=(new Date).toLocaleString()+"_"+(Math.floor(500*Math.random())+1),o="https://trabd.jixie.io/sync/hbbids_t?x=1";window.JXTRLOCALTESTENV&&(o="https://traid-dev.jixie.io/sync/hbbids_t?x=1");const d="nobid_",s="pending_",c="gam_",a="pb_",u=[d],l=4e4;var f=[],p=[],h=[];var m=null,w=Date.now(),g=null,_={init:0,runMain:0,doPgExitHooks:0,xtPBJS:0,xtGGKV:0,send:0,bidTimeout:0,setAccountId:0,bidRequested:0,bidResponse:0},b={version:126,accountid:"",auctionid:"",group:"",debug:"",slots:f};function x(){e&&arguments&&arguments.length>0&&console.log.apply(console,[r].concat([arguments[0]]))}function y(t){x(t),e&&alert(t)}function v(e){e&&(_.setAccountId||(_.setAccountId=1,b.accountid=e))}function k(e){b.auctionid||e&&e.auctionId&&(b.auctionid=e.auctionId)}function T(e,t){if(_.setTargeting)return;_.setTargeting=1,_.bidResponse++;let i=!1;var n={};try{let e=window[t].getBidResponses();for(var r in e){let t=null,i=null,n=0,d=e[r],s=E(r);if(d.bids)for(var o=0;o<d.bids.length;o++){let e=d.bids[o];if(0==e.cpm&&"0.00"==e.pbHg)continue;let r=s.bids.find(t=>t.bidder==e.bidder);r?(r.cpm<e.cpm||"targetingSet"==e.status)&&(r.cpm=e.cpm,r.format=e.mediaType,r.pb=e.pbHg,r.sz=e.size,r.msresp=e.timeToRespond):s.bids.push({bidder:e.bidder,cpm:e.cpm,format:e.mediaType,pb:e.pbHg,sz:e.size,msresp:e.timeToRespond}),e.cpm>n&&(i=e.bidder,n=e.cpm),"targetingSet"==e.status&&(t=e.bidder)}t?s.winner=t:i&&(s.winner=i),x(`###### cfmwin=${t} win=${i}`)}i=!0}catch(e){}try{for(var r in e){let t=e[r];n[r]={bids:[]};let i=f.find(e=>e.slotid==r),o=n[r];for(var c in t.hb_bidder&&(o.winner=t.hb_bidder),t)if(c.startsWith("hb_pb_")){let e=t[c],n="";if(e){let r,d,s=c.substring(6);s.length<=8?(r="hb_format_"+(n=s),d="hb_size_"+n):(r=(r="hb_format_"+(n=C(i,s))).substring(0,20),d=(d="hb_size_"+n).substring(0,20));let a=t[r],u=t[d];o.bids.push({bidder:n,pb:e,sz:u,format:a})}}}for(o=0;o<f.length;o++){let e=f[o],t=n[e.slotid];e.bids.forEach(function(i){t.bids.find(e=>i.bidder==e.bidder)||(i.nottgt=1,e.winner==i.bidder&&delete e.winner)}),(e.winner||t.winner)&&e.winner!=t.winner&&t.winner&&(e.winner=t.winner,e.winnerchanged=1),e.winner&&e.rendered==d&&(e.rendered=s)}}catch(e){console.log(e)}!function(e,t){if(_.runMain)return;_.runMain=1;try{N(),O()}catch(e){y(e.stack)}Promise.resolve().then(function(){if(J())return Promise.resolve();{let e="makeup"==t?2e3:"fallback"==t?10:4e3,i=new Promise(function(e){m=e});return setTimeout(function(){m&&(m(),m=null)},e),i}}).then(function(){return new Promise(function(e){setTimeout(()=>{e()},l)})}).then(function(){j()}).catch(function(e){y(e.stack)})}()}function j(t="normal"){if(_.send)return;if(_.send=1,_.bidTimeout+_.bidResponse+_.xtGGKV==0||_.bidRequested+_.xtPBJS==0)return void x(`## Incomplete data, not sent: ${JSON.stringify(_,null,2)}`);if("normal"!=t)try{N(window.adUnits),O()}catch(e){return void y(e.stack)}if(p.forEach(function(e){let t=f.find(t=>t.slotid==e.slot);if(t){let i=t.bids.find(t=>t.bidder==e.bidder);i||t.bids.push({bidder:e.bidder,pb:"-1"})}}),f.forEach(function(e){let t=e.partners;t.length>0&&"string"!=typeof t[0]&&(e.partners=t.map(e=>e.bidder)),t=e.partners,e.partners=t.filter((e,i)=>t.indexOf(e)===i),["tsTurnedVisible","gptSlotObj","visState","maxbid","maxbidRequestId"].forEach(function(t){delete e[t]})}),!b.client_id&&g&&g.ids&&g.ids.client_id&&(b.client_id=g.ids.client_id),e){let e="";for(var i in _)_[i]&&(e+=i+"|");b.trace=e,b.trace2=n.join("|"),b.domain=window.location.hostname,b.dbg2=r}b.bidderseq=h,b.slots=f,b.context=t,b.diff=Math.round((Date.now()-w)/1e3),function(t,i=o){if(e)try{let e="Dbg: "+(new Date).toISOString(),i=JSON.stringify({text:e+" "+t}),n=new XMLHttpRequest;n.open("POST","https://hooks.slack.com/services/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?text=xxxxxyyyyyzzzzz"),n.send(i)}catch(e){}if(window&&window.navigator&&"function"==typeof window.navigator.sendBeacon&&"function"==typeof window.Blob)try{if(window.navigator.sendBeacon(i,t))return}catch(e){}fetch(i,{method:"POST",body:t,headers:{"Content-Type":"text/plain"}})}(JSON.stringify(b,(e,t)=>t,e?2:0))}function S(e){let t=function(e,t=null){let i=e.getSlotElementId();return f.find(e=>e.slotid==i)}(e.slot,"vis");t&&(t.viewable=1)}function E(e){let t=f.find(t=>t.slotid==e);if(!t){let i={slotid:e,rendered:d,partners:[],bids:[],visState:0,visDur:0,viewable:0};f.push(i),t=i}return t}function I(e){_.bidRequested++;let t=e.bidderCode;h.push(t),e.bids.forEach(function(e){let i=E(e.adUnitCode);i.partners.find(e=>e.bidder==t)||i.partners.push(t)})}function N(){if(!i)return;if(_.xtPBJS)return;_.xtPBJS=1,x("#### xtPBJS_ is really called"),window.adUnits.forEach(function(e){let t=[];if(e.bids.forEach(function(e){t.push(e.bidder)}),t){let i=f.find(t=>t.slotid==e.code);i?i.partners=i.partners.concat(t):(i=E(e.code)).partners=t}})}function O(){if(!i)return;if(_.xtGGKV)return;_.xtGGKV=1,x("#### xtGGKV_ is really called"),window.googletag.pubads().getSlots().forEach(function(e){let t=f.find(t=>t.slotid==e.getSlotElementId());if(t){t.winner=e.getTargeting("hb_bidder")[0],e.getTargetingKeys().forEach(function(i){if(i.startsWith("hb_pb_")){let n=e.getTargeting(i)[0],r="";if(n){let o,d,c=i.substring(6);c.length<=8?(o="hb_format_"+(r=c),d="hb_size_"+r):(d="hb_size_"+(r=C(t,c)),o=(o="hb_format_"+r).substring(0,20),d=d.substring(0,20));let a=e.getTargeting(o)[0],l=e.getTargeting(d)[0];t.bids.find(e=>e.bidder==r)||("banner"!=a?t.bids.push({bidder:r,pb:n,sz:l,format:a}):t.bids.push({bidder:r,sz:l,pb:n})),t.gptSlotObj=e,u.indexOf(t.rendered)>-1&&(t.rendered=s)}}})}})}function P(e){let t=e.slot.getSlotElementId(),i=f.find(e=>e.slotid==t);if(i&&(x(`TALLY ## slotRenderEnded_ ${t}`),(!i||i.rendered==s)&&i&&i.rendered==s)){i.rendered==s&&(i.rendered=c);try{e.slot.getHtml().indexOf("ucTag.renderAd")>-1&&i.rendered==c&&(i.rendered=a)}catch(e){y(e.stack)}J()}}function C(e,t){let i="",n=e.partners.find(e=>"string"==typeof e&&0==e.indexOf(t)||"string"!=typeof e&&0==e.bidder.indexOf(t));return n&&(i="string"==typeof n?n:n.bidder),i}function D(e){x(`TALLY ####__bidWon_ ${e.adUnitCode}`);let t=f.find(t=>t.slotid==e.adUnitCode);if(t){(i=t,i.bids&&i.bids.length>0?i.bids:[]).find(t=>t.bidder==e.bidder)&&(t.rendered=e.bidder,t.winner=e.bidder),J()}var i}function J(){let t=0==f.reduce(function(e,t){return e+(t.rendered==a||t.rendered==s?1:0)},0);if(e){let e=`TALLY ##Check_allOutcomeCame=${t?"****$ YES $****":"NOT YET"}: `;f.forEach(function(t){e+=`${t.slotid}: ${t.rendered}|`}),x(`${e}`)}return t&&m&&(m(),m=null),t}_.doPgExitHooks||(_.doPgExitHooks=1,document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&j("hidden")}),window.addEventListener("pagehide",e=>{j(e.persisted?"phkeep":"phkill")},!1));window.jixie_o&&window.jixie_o.accountid&&v(window.jixie_o.accountid);var R=window._jxbidsq;window._jxbidsq=new function(){this.push=function(){for(var t=0;t<arguments.length;t++)try{if("string"==typeof arguments[t][0]){let o=arguments[t][0];switch(x(`#### ENTRY POINT: ${arguments.length}: ${arguments[t][0]}`),e&&-1==n.indexOf(o)&&n.push(o),o){case"accountid":v(arguments[t][1]);break;case"slotRenderEnded":i||P(arguments[t][1]);break;case"bidWon":i||D(arguments[t][1]);break;case"setTargeting":T(arguments[t][1],window.jixie_o&&window.jixie_o.pbjs_name?window.jixie_o.pbjs_name:"pbjs");break;case"impressionViewable":S(arguments[t][1]);break;case"bidResponse":k(arguments[t][1]);break;case"bidRequested":k(arguments[t][1]),I(arguments[t][1]);break;case"bidTimeout":r=arguments[t][1],_.bidTimeout||(_.bidTimeout=1,r&&r.forEach(function(e){p.push({slot:e.adUnitCode,bidder:e.bidder})}))}}}catch(e){y(e.stack)}var r}},R&&window._jxbidsq.push.apply(window._jxbidsq,R),window._jxbidsq=window._jxbidsq||[],t.exports.init=function(e,t=null){_.init||(_.init=1,g=e,t&&v(t))}}()},{}],3:[function(e,t,i){const n=e("./util.js"),r=e("./ids.js"),o={client_id:"00000000-0000-0000-0000-000000000000",sid:"000000000-00000000-0000-0000-0000-000000000000"},d={},s=["visit","viewhome","viewsection"],c="_jxpitems";var a=0,u=[],l=5,f=0,p=0;t.exports.setEvtSendDelaySec=function(e){e&&0==p&&(l=1,f=1e3*e)},t.exports.unbProcessEvts=function(e,t){if(!("string"==typeof t.action&&t.action.length>4))return;let i=t.sha256mail;r.getGetIdsPromise(e,t.partner_id,i).then(function(i){{let r=!1,h=t.action.toLowerCase();("autovisit"==h||s.indexOf(h)>-1)&&(e.pubPgEvtSent&&(r=!0),"autovisit"==h&&(h="visit"),e.pubPgEvtSent=!0);let m=document,w=i?e.ids:o,g=i?e.pmids:d,_={accountid:e.accountid,client_id:w.client_id,sid:w.sid,email:g.mhsha256,adblocker:e.ab,referer:m.location.href,action:h,profile:w.su||e.su};m.referrer&&(_.p_domain=m.referrer);let b=null,x=m.querySelector("link[rel='canonical']");if(x&&(b=x.getAttribute("href")),b&&(_.canonical_url=b),g.pid&&(_.partner_id=g.pid),w.cid&&(_.cid=w.cid),w.cht&&(_.cht=w.cht),w.recoid&&(_.recoid=w.recoid),_.merged=!!w.merged,t.parameters&&(_.payload=function(e,t){var i;switch(e){case"viewsection":i={category:t.category||""};break;case"viewitem":i={itemid:t.parameters.itemid||"",price:t.parameters.price||0,availability:t.parameters.availability||"",currency:t.parameters.currency||""};break;case"viewlist":i={items:t.parameters.items||[],category:t.parameters.category||"",page:t.parameters.page||1};break;case"viewsearch":i={items:t.parameters.items||[],keywords:t.parameters.keywords||[],page:t.parameters.page||1};break;case"viewcart":i={items:t.parameters.items&&Array.isArray(t.parameters.items)?t.parameters.items.map(function(e){return{itemid:e.itemid||"",price:e.price||0,quantity:e.quantity||1,currency:e.currency||""}}):[]};break;case"addcart":i={itemid:t.parameters.itemid||"",price:t.parameters.price||0,quantity:t.parameters.quantity||1,currency:t.parameters.currency||""};break;case"purchase":i={items:t.parameters.items&&Array.isArray(t.parameters.items)?t.parameters.items.map(function(e){return{itemid:e.itemid||"",price:e.price||0,quantity:e.quantity||1,currency:e.currency||""}}):[],transactionid:t.parameters.transactionid||""};break;case"visit":if(!(i=t.parameters).keywords||!i.title||!i.description){let e=window.jixie_o;try{["keywords","title","description"].forEach(function(t){if(!i[t]){let n=null;if("title"==t?n=window.document.title:(n=window.document.querySelector('meta[name="'+t+'"]'))&&(n=n.content),!n&&e){let i=e[t+"meta"];i&&(n=window.document.querySelector('meta[name="'+i+'"]'))&&(n=n.content)}n&&(i[t]=n)}})}catch(e){}}break;default:i=t.parameters}return i}(_.action,t)),s.indexOf(_.action)>-1){let e=function(e=null){let t=n.getLocalStorage(),i=t.getItem(c);if(i)try{i=JSON.parse(i)}catch(e){i=[]}else i=[];if(e){let n=i.indexOf(e);n>-1&&i.splice(n,1),i.push(e),i.length>15&&i.shift(),t.setItem(c,JSON.stringify(i))}return i}(t.parameters&&t.parameters.itemid?t.parameters.itemid:null);e&&e.length>0&&(e.length>10&&e.splice(0,e.length-10),_.history=e)}if(r)return;!function e(t){if(p++,a<l){a++;let i={method:"POST",withCredentials:!0,contentType:"application/json",data:JSON.stringify(t.body)};n.makeJxNwPromise(t.url,i).then(function(){return!f||new Promise(function(e){setTimeout(function(){e(!0)},f)})}).finally(function(){a--,u.length&&e.apply(null,u.shift())})}else u.push(arguments)}({url:e.ua,body:_})}})}},{"./ids.js":4,"./util.js":5}],4:[function(e,t,i){const n=e("./util.js"),r=n.consoleLogIt;var o=["_jxx","_jx"],d=["_jxxs","_jxs"],s="_jxx",c="_jxxs",a="_jxrecoid";const u=2592002,l=720;var f=20,p=1200,h=43200;window.JXTRTESTENV&&(f=10,p=60,h=60);var m=86400;window.JXTRTESTENV&&(m=60);window.JXTRTESTENV;const w=86400;window.JXTRTESTENV;var g="https://traid.jixie.io/api/",_="https://traid.jixie.io/api/";window.JXTRTESTENV&&(g="https://traid-dev.jixie.io/id/",_="https://traid-dev.jixie.io/id/");const b={tdid:{u:"https://match.adsrvr.org/track/rid?ttd_pid=xuz42kb&fmt=json",n:"_jxtdid",f:"TDID",t:"ttd"},ghid:{pct_traffic_min:90,withCredentials:!1,u:"https://idm.ghtinc.com/cm?cn=kg&cuid=%%_JX%%",n:"_jxghid",f:"id",t:"gh",lv:365},jxtoko:{method:"POST",u:"https://accounts.tokopedia.com/upkiejson",n:"_jxtoko",fcn:function(e){if(e&&"OK"==e.status&&e.data)return e=e.data,{k:"jxtoko",v:btoa(JSON.stringify(e))};return{}},lv:1},ifo:{u:"https://publisher.torcai.com/audtrack/cookiesync/ckread/write",n:"_jxifo",fcn:function(e){return e&&e.responseCode&&"success"==e.responseCode.status&&e.responseList?{k:"ifo",v:e.responseList.cookieId}:{}}}};function x(e,t,i=null){let r="",o="",d=!0,s=[],c=null;switch(t.action){case"retrieveIdFromCk":r="loaduser",c={error:!0};break;case"retrieveSysIdForEmail":r="findid",o="emailsha="+t.mhsha256,c={error:!0};break;case"getNewId":r="newid",d=!1,c={error:!0};break;case"userProfile":r="userProfile",o="client_id="+t.client_id+"&info=interests-short,intends-short,cohort",t.accountid&&(o+="&accountid="+t.accountid);break;case"syncIds":{r="usersync";let e=[];for(var a in t.newid&&e.push(t.newid+":njx"),t.idlist.forEach(t=>{e.push(t+":jx")}),t.pidlist&&t.pidlist.forEach(function(t){e.push(t+":partner")}),t.mhsha256&&e.push(t.mhsha256+":emailsha"),t.mhmd5&&e.push(t.mhmd5+":email"),t.eids)t.eids[a]&&b[a].t&&e.push(t.eids[a]+":"+b[a].t);t.wp&&s.push("info=interests-short,intends-short,cohort"),e.length&&s.push("idlist="+e.join(",")),t.sid&&s.push("sid="+t.sid),t.wp&&t.accountid&&s.push("accountid="+t.accountid),o=s.join("&"),c={}}}let u={method:"GET",withCredentials:d};return""==o?o="accountid="+e:-1==o.indexOf("accountid=")&&(o+="&accountid="+e),n.makeJxNwPromise(_+r+(o?"?"+o:""),u).then(function(e){return i&&i(e),e}).catch(function(e){return c})}const y=["null","undefined"];function v(e){return e&&(y.indexOf(e)>-1&&(e=null),e&&e.length<15&&(e=null)),e}t.exports.getpmidsObj=function(e,t,i,r){let o={pids:[]};if(o.pc=e,o.mhc=t,o.mhmd5=r,o.mhsha256=i,o.pc||o.mhc){let e=n.getParsedCk(),t=e[o.mhc];(t=v(t))&&(o.mhsha256=t);let i=e[o.pc];i&&(o.pid=i)}return o.pid&&o.pids.push(o.pid),o};var k=null,T=!0;function j(e){e&&e.client_id&&(e.newid=!0)}function S(e){n.addDebug("logic",e)}function E(e,t=!1){let i;return x(e,{action:"getNewId"}).then(function(t){return i=t.client_id,x(e,{action:"retrieveIdFromCk"})}).then(function(e){return{client_id:i,client_id_in_cookie:e.client_id,needsync:t,needcookie:!e.client_id,njx:!0}}).catch(function(){return{error:!0}})}function I(e,t,i){let r=i.mhsha256,o=i.pids,d=i.mhmd5;t||(t=parseInt(Date.now()/1e3));let l=function(e){let t=function(){let e={};try{let r=n.getLocalStorage();e.id=r.getItem(s),e.sid=function(e){return e.getItem(c)}(r),e.cid=function(e,t,i){try{const n=e.getItem(t);if(!n)return null;if(n&&"string"==typeof n){let e=n.split("-");if(e&&e.length>=2){let t=e.shift();if(!isNaN(t)){let e=parseInt(t),r=Math.round((new Date).getTime()/1e3);if(r>e&&r-e<i)return n}}}return n&&e.removeItem(t),null}catch(e){return null}}(r,"_jxcid",u),e.cht=r.getItem("_jxcht"),e.mts=r.getItem("_jxmu");var t=parseInt(e.mts);isNaN(t)?e.mts=0:(e.mts=t,parseInt(Date.now()/1e3)-t>m&&(e.mts=0)),e.It=r.getItem("_jxIt");var i=parseInt(e.It);isNaN(i)?e.It=0:e.It=i;try{e.itr=JSON.parse(r.getItem("_jxitr")),e.itd=JSON.parse(r.getItem("_jxitd"))}catch(t){e.It=0}!e.itr||Array.isArray(e.itr)&&0!=e.itr.length||(e.itr=null),!e.itd||Array.isArray(e.itd)&&0!=e.itd.length||(e.itd=null);try{e.ids=JSON.parse(r.getItem("_jxids"))}catch(e){}}catch(e){}return e}(),i=function(e){let t=n.getParsedCk(),i=function(e){let t={};return t.id=void 0!==e[s]?e[s]:null,t.sid=void 0!==e[c]?e[c]:null,t.cid=void 0!==e._jxcid?e._jxcid:null,t.recoid=void 0!==e[a]?e[a]:null,t}(t);return i.eids={},e.forEach(function(e){i.eids[e]=null}),e.forEach(function(e){let n=b[e].n;t[n]&&(i.eids[e]=t[n])}),i}(e),r=document,o=[],d=null,l=null;t.id&&t.id!==d&&(o.push(t.id),d||(d=t.id));i.id&&i.id!==d&&(o.push(i.id),d||(d=i.id));let f=parseInt(Date.now()/1e3);t.sid=$(t.sid,f),i.sid=$(i.sid,f);let p=$(J(r.location.href,"jxsid"),f);O(p)?l=A(p,f):O(i.sid)?l=A(i.sid,f):O(t.sid)&&(l=A(t.sid,f));if(!l){let e=null;p&&(e=p.client_id),!e&&i.sid&&(e=i.sid.client_id),!e&&t.sid&&(e=t.sid.client_id),!e&&d&&(e=d),e&&(l=q(e))}let h=J(r.location.href,"jxcid");(h=R(h)?(w=h,parseInt(Date.now()/1e3)+"-"+w):null)||(h=t.cid?t.cid:i.cid?i.cid:null);var w;let g=i.recoid;g||(g=J(r.location.href,"jxrecoid"))&&n.writeC([{n:a,v:g,d:D()}]);(d||l||h)&&P(d,l,h,null,null,null,null,null);let _={client_id:d,sid:l,cid:function(e){if(e&&"string"==typeof e){let t=e.split("-");if(t&&2==t.length)return t[1];if(t){if(2==t.length)return t[1];if(1==t.length&&R(t[0]))return t[0]}}return null}(h),idlist:o,eids:i.eids,mts:t.mts};i.pid&&(_.pid=i.pid);t.It&&(_.It=t.It);t.itd&&(_.itd=t.itd);t.itr&&(_.itr=t.itr);t.cht&&(_.cht=t.cht);g&&(_.recoid=g);return _}(e.eidlist);window.JXTRTESTENV&&n.addDebug("starter",l);let f=null,p=null;return l.client_id?l.mts&&t-l.mts<m?(S(`has1Party(recentlySynced) -> FOUND! (used threshold = ${m} sec)`),f=Promise.resolve({client_id:l.client_id})):(S(`has1Party(not recentlySync - more than ${m}sec ago)`),f=r?x(e.accountid,{action:"retrieveSysIdForEmail",mhsha256:r}).then(function(t){return t.client_id?(S(`hasOld1Party -> hasMail (${r}) with jxid (${t.client_id}) -> FOUND!`),{client_id:t.client_id}):t.error?{error:!0}:(S(`hasOld1Party -> hasMail (${r}) no jxid -> MAKING_EXTCK!`),E(e.accountid,!0))}).catch(function(e){return{error:!0}}):x(e.accountid,{action:"retrieveIdFromCk"}).then(function(e){return e.client_id==l.client_id?(S(`hasOld1Party -> noMail -> idInCk is same ${e.client_id} -> FOUND!`),{client_id:l.client_id}):e.error?{error:!0}:e.client_id?(S(`hasOld1Party -> noMail -> found idInCk which is diff from 1p: (${l.client_id} vs ${e.client_id}) -> NEED SYNC!`),{client_id:l.client_id,client_id_in_cookie:e.client_id,needsync:!0}):(S("hasOld1Party -> noMail -> no idInCk found"),{client_id:l.client_id,needcookie:!0})}).catch(function(e){return{error:!0}})):f=r?x(e.accountid,{action:"retrieveSysIdForEmail",mhsha256:r}).then(function(t){return t.client_id?(S(`No1Party -> hasMail (${r}) with jxid (${t.client_id}) -> FOUND!`),{client_id:t.client_id}):t.error?{error:!0}:(S(`No1Party -> hasMail (${r}) with no jxid -> MAKING_EXTCK!`),E(e.accountid,!0))}).catch(function(e){return{error:!0}}):x(e.accountid,{action:"retrieveIdFromCk"}).then(function(t){return t.client_id?(S(`no1Party -> noMail -> hasCk (${t.client_id}) -> FOUND!`),{client_id:t.client_id}):t.error?void 0:(S("no1Party -> noMail -> noCk -> MAKING NEW!"),x(e.accountid,{action:"getNewId"},j))}).catch(function(e){return{error:!0}}),f.then(function(e){if(p=JSON.parse(JSON.stringify(e)),e.error||!p||!p.client_id)throw new Error("resp.error||idsJob||!idsJob.client_id");e.needsync||p.client_id!=l.client_id&&(l.client_id=p.client_id,l.sid||(l.sid=q(p.client_id)),P(l.client_id,l.sid));let t=[];for(var i in l.eids)!l.eids[i]&&b[i]&&t.push(i);return t.length?function(e,t){let i=[];for(var r=0;r<t.length;r++){let o=t[r],d=b[o];if(!d)continue;let s=!0;!1===d.withCredentials&&(s=!1);let c=d.u;c=c.replace("%%_JX%%",e);let a=n.makeJxNwPromise(c,{method:d.method?d.method:"GET",withCredentials:s,contentType:"POST"!=d.method?"application/json":null}).then(e=>{if(d.fcn)return d.fcn(e);if(e[d.f]){let t=e[d.f];return{k:o,v:t}}return{}}).catch(function(e){return console.log(`e id failure for ${c} ${JSON.stringify(d)}`),console.log(e),{}});i.push(a)}return Promise.all(i)}(l.client_id,t):null}).then(function(i){let s=!1;if(i&&(i=i.filter(e=>null!=e.k)).length&&(s=!0,function(e,t){let i=[];t.forEach(function(t){if(t&&t.k){let n=t.k;if(e[n]=t.v,b[n].n){let e=b[n].lv?b[n].lv:60;i.push({n:b[n].n,v:t.v,d:new Date((new Date).setDate((new Date).getDate()+e))})}}}),i.length&&n.writeC(i)}(l.eids,i)),S(`need call usersync (any one of 3 condition)? gotIdsToSync=${p.needsync} / need3pCookie=${p.needcookie} newEids=${s}`),p.needsync=p.needsync||p.needcookie||s,p.needsync){let t={action:"syncIds",accountid:e.accountid,wp:e.up,idlist:[],eids:l.eids,mhsha256:r,mhmd5:d,pidlist:o};return p.njx?t.newid=p.client_id:t.idlist.push(p.client_id),l.client_id&&-1==t.idlist.indexOf(l.client_id)&&t.idlist.push(l.client_id),p.client_id_in_cookie&&t.idlist.push(p.client_id_in_cookie),l.sid&&(t.sid=l.sid),x(e.accountid,t)}return e.up&&!p.newid&&(!l.It||t-l.It>w)?x(e.accountid,{action:"userProfile",client_id:p.client_id,accountid:e.accountid}):{nocall:!0}}).then(function(i){return i.error?l.client||p.client_id&&(l.client_id=p.client_id,l.sid||(l.sid=q(p.client_id)),P(l.client_id,l.sid)):1==i.nocall?(l.mts=t,P(null,null,null,l.mts)):(p.needsync&&(l.merged=p.client_id!=i.client_id,l.mts=t,l.client_id=i.client_id),e.up&&(l.It=t),l.sid||(i.session_id?l.sid=i.session_id:l.sid=q(l.client_id)),l.itr=i.interest,l.itd=i.intend,l.cht=i.cohort,(l.itr||l.itd)&&(e.su=!0),l.idlist=[l.client_id],P(l.client_id,l.sid,null,l.mts,e.up?l.It:null,i.interest,i.intend,i.cohort)),e.ids=JSON.parse(JSON.stringify(l)),window.JXTRTESTENV&&n.addDebug("final",e.ids),!0}).catch(function(t){return window.JXTRTESTENV&&n.addDebug("final","exception thrown somehow"),e.ids=JSON.parse(JSON.stringify(l)),e.ids.client_id?(window.JXTRTESTENV&&n.addDebug("final","still got some id to salvage. we use it"),!0):(window.JXTRTESTENV&&n.addDebug("final","No ids to salvage. We have no id to use"),!1)})}function N(e,t,i){t.forEach(function(t){e.setItem(t,i)})}function O(e){return e&&e.fresh}function P(e,t,i,r,s,c,a,f){var p=[];if(e&&o.forEach(function(t){p.push({n:t,v:e,d:C()})}),t&&d.forEach(function(e){p.push({n:e,v:t,d:D()})}),i){let e=function(e,t=0){let i=e.split("-");if(i&&i.length>=2&&!isNaN(i[0])){let e=parseInt(i[0])+t;const n=parseInt(Date.now()/1e3);return e>n?e:null}return null}(i,u);e=e?new Date(1e3*e):new Date((new Date).setHours((new Date).getHours()+l)),p.push({n:"_jxcid",v:i,d:e})}return n.writeC(p),function(e,t,i,r,s,c,a,u){try{var l=n.getLocalStorage();if(e&&N(l,o,e),t&&N(l,d,t),i&&l.setItem("_jxcid",i),u&&l.setItem("_jxcht",u),r&&r>0&&l.setItem("_jxmu",r),s&&s>0&&l.setItem("_jxIt",s),c&&c.length>0)try{var f=JSON.parse(l.getItem("_jxitr"));f||(f=[]),f=c.concat(f.filter(e=>c.indexOf(e)<0)),l.setItem("_jxitr",JSON.stringify(f))}catch(e){l.setItem("_jxitr",JSON.stringify(c))}if(a&&a.length>0)try{var p=JSON.parse(l.getItem("_jxitd"));p||(p=[]),p=a.concat(p.filter(e=>a.indexOf(e)<0)),l.setItem("_jxitd",JSON.stringify(p))}catch(e){l.setItem("_jxitd",JSON.stringify(a))}return}catch(e){return void console.log("Local storage cannot be accessed: "+e.message)}}(e,t,i,r,s,c,a,f)}var C=function(){return new Date((new Date).setFullYear((new Date).getFullYear()+1))},D=function(){return new Date((new Date).setMinutes((new Date).getMinutes()+f))};function J(e,t){return e?decodeURIComponent(e.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1")):null}function R(e){var t=Math.floor(Number(e));return t!==1/0&&String(t)===e&&t>0}function $(e,t){if(e&&e.length>46){let i=e,n=i.lastIndexOf("~"),r=0;n==i.length-11&&(r=i.substring(n+1),r=isNaN(r)?0:parseInt(r),i=i.substring(0,n));let o=i.split("-"),d=parseInt(o[0]);if(!isNaN(d)){o.shift();let i=o.join("-"),n=!1;if(i)return t-d<h&&(0==r||t-r<p)&&(n=!0),{ts:d,client_id:i,session_id:e,li:r,fresh:n}}}return null}function A(e,t){return e.ts+"-"+e.client_id+"~"+t}function q(e){let t=1e3*Math.floor(Date.now()/1e6);return window.JXTRTESTENV&&(t=1*Math.floor(Date.now()/1e3)),t+"-"+e+"~"+Math.floor(Date.now()/1e3)}const M="__uid2_advertising_token";function L(e){let t=n.getParsedCk(),i=null;if(t._jxu2aux)try{i=JSON.parse(t._jxu2aux),r(`### ck_.jxu2aux ${JSON.stringify(i)}`)}catch(e){r(e.stack)}let o=Date.now();if(!t[M]||!i||i.re<o)return r(`### | conditions to generate from scratch is true (${!t[M]} || ${!i} || ${i?i.re>o:"u2aux null"})`),void V(e,null);if(i&&i.re>o){let t=i.rf-o;i.rrk&&t<1e4?(r(`### | conditions to refresh is true curr=${o}, refresh_expires=${i.re}, refresh_from=${t}`),V(null,i)):(r(`### | No need to refresh yet so scheduled next check to ${t} (${i.rf} - ${o})`),setTimeout(L,t,e))}}function V(e,t){let i=e?g+"ugen?mh="+e:g+"ufresh?rt="+encodeURIComponent(t.rt)+"&rrk="+encodeURIComponent(t.rrk),r=3e5;return n.makeJxNwPromise(i,{method:"GET",withCredentials:!0}).then(function(t){r="success"!=t.status?6e5:function(e){if("success"!=e.status)return 6e5;let t={rt:(e=e.body).refresh_token,te:e.identity_expires,re:e.refresh_expires,rf:e.refresh_from};e.refresh_response_key&&(t.rrk=e.refresh_response_key);const i=new Date(1*e.identity_expires),r=new Date(1*e.refresh_expires);return n.writeC([{d:i,n:M,v:e.advertising_token},{d:r,n:"_jxu2aux",v:JSON.stringify(t)}]),e.refresh_from-Date.now()+5e3}(t),setTimeout(L,r,e)}).catch(function(t){r=3e5,setTimeout(L,r,e)})}t.exports.getGetIdsPromise=function(e,t=null,i=null,n=null){if(!e.tr&&!e.ids.client_id)return e.ids={client_id:"00000000-0000-0000-0000-000000000000",sid:"000000000-00000000-0000-0000-0000-000000000000~000000000",eids:{}},Promise.resolve(!0);let r=!1;!function(e,t,i){let n=!1;i&&!e.mhsha256&&(e.mhsha256=i,n=!0),t&&(!e.pid||e.pid&&t!=e.pid)&&e.pids.length<2&&(e.pids.push(t),e.pid=t)}(e.pmids,t,i),T&&(T=!1);let o=null;e.ids.client_id||k||(r=!0),r||e.ids.mts&&(o||(o=parseInt(Date.now()/1e3)),o-e.ids.mts>m&&(r=!0)),r||e.ids.It&&(o||(o=parseInt(Date.now()/1e3)),o-e.ids.It>w&&(r=!0)),r&&(k=k?k.then(function(){return I(e,o,{mail:e.pmids.mail,pids:e.pmids.pids,mhmd5:e.pmids.mhmd5})}):I(e,o,{mhsha256:e.pmids.mhsha256,pids:e.pmids.pids,mhmd5:e.pmids.mhmd5}));return k},t.exports.getParsedCk=n.getParsedCk,t.exports.u2clear=function(){let e=new Date(Math.round((new Date).getTime())-3e3);n.writeC([{d:e,n:M,v:""},{d:e,n:"_jxu2aux",v:""}])},t.exports.u2trigger=function(e){let t=e.mhsha256,i=e.mhc,r=null;if(t&&(r=t),!r&&i){let e=n.getParsedCk();e[i]&&(r=e[i])}(r=v(r))&&L(r)},t.exports.getLegitEids=function(e){let t=[];return e&&e.length>0&&e.forEach(function(e){"tdid2"!=e&&b[e]&&-1==t.indexOf(e)&&t.push(e)}),t},t.exports.getDoUid2=function(e){return e&&Array.isArray(e)&&e.indexOf("tdid2")>-1}},{"./util.js":5}],5:[function(e,t,i){var n=-1;function r(e,t){if(-1==n&&(n=document.getElementById("jxdbgtextarea")),!n)return;let i="";"object"==typeof t?i=JSON.stringify(t):"string"==typeof t&&(i=t),-1==e.indexOf("->")&&(e="\n"+e),n.value+=e+":"+i+"\n"}t.exports.consoleLogIt=function(){},t.exports.makeJxNwPromise=function(e,t){var i=new XMLHttpRequest;return new Promise(function(n,o){i.onreadystatechange=function(){if(4===i.readyState)if(i.status>=200&&i.status<300){let e;try{e=JSON.parse(i.responseText),window.JXTRTESTENV&&r("   ->network",e),n(e)}catch(e){window.JXTRTESTENV&&r("  ->network","failed1"),n({})}}else window.JXTRTESTENV&&r("   ->network","failed2"),o({status:i.status,statusText:i.statusText})},window.JXTRTESTENV&&r("network",e),i.open(t.method||"GET",e,!0),t.contentType&&i.setRequestHeader("Content-Type",t.contentType),t.timeout&&(i.timeout=t.timeout,i.ontimeout=function(e){window.JXTRTESTENV&&r("   ->network","failed3"),o({status:408,statusText:"Request timeout"})}),i.crossDomain=!0,i.withCredentials=void 0==t.withCredentials||t.withCredentials,i.send("POST"===t.method?t.data:null)})},t.exports.getLocalStorage=function(){return window.localStorage},t.exports.writeC=function(e){let t=window,i=document;var n=t.location.hostname.match(/[^.]*\.[^.]{2,3}(?:\.[^.]{2,3})?$/gm);e.forEach(e=>{var t="expires="+e.d.toUTCString(),r=e.n+"="+e.v+";"+t+";secure;";i.cookie=r+"path=/",n&&(i.cookie=r+"domain=."+n+";secure;SameSite=None;path=/")})},t.exports.getParsedCk=function(){let e={},t=document;if(t.cookie&&""!=t.cookie){let r=t.cookie.split(";");for(var i=0;i<r.length;i++){var n=r[i].split("=");n[0]=n[0].replace(/^ /,""),e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])+(n.length>2?"="+n.slice(2).map(e=>decodeURIComponent(e)).join("="):"")}}return e},t.exports.addDebug=r},{}],6:[function(e,t,i){var n,r;n=this,r=function(){"use strict";function e(){return void 0!==navigator.brave&&void 0!==navigator.brave.isBrave}function t(){return"string"==typeof navigator.userAgent&&navigator.userAgent.match(/Opera|OPR\//)}function i(){return new Promise(function(e,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&e(i)},i.open("GET","https://raw.githubusercontent.com/wmcmurray/just-detect-adblock/master/baits/pagead2.googlesyndication.com",!0),i.send()})}function n(e){return 200===e.status&&!e.responseText.match(/^thistextshouldbethere(\n|)$/)}function r(e){return 0===e.status&&!e.responseText.match(/^thistextshouldbethere(\n|)$/)}function o(){if(null!==window.document.body.getAttribute("abp"))return!0;var e=function(){var e=document.createElement("div");return e.setAttribute("class","pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links ad-text adSense adBlock adContent adBanner"),e.setAttribute("style","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"),e}();window.document.body.appendChild(e);var t=function(e){if(null===e.offsetParent||0==e.offsetHeight||0==e.offsetLeft||0==e.offsetTop||0==e.offsetWidth||0==e.clientHeight||0==e.clientWidth)return!0;if(void 0!==window.getComputedStyle){var t=window.getComputedStyle(e,null);if(t&&("none"==t.getPropertyValue("display")||"hidden"==t.getPropertyValue("visibility")))return!0}return!1}(e);return window.document.body.removeChild(e),t}var d;return{detectAnyAdblocker:function(){return new Promise(function(d,s){if(o())return d(!0);e()||t()?i().then(function(i){return e()?d(n(i)):t()?d(r(i)):void d(!1)}):d(!1)})},detectDomAdblocker:(d=o,function(){var e=arguments;return new Promise(function(t,i){t(d.apply(this,e))})}),detectBraveShields:function(){return new Promise(function(t,r){e()?i().then(function(e){t(n(e))}):t(!1)})},detectOperaAdblocker:function(){return new Promise(function(e,n){t()?i().then(function(t){e(r(t))}):e(!1)})},isDetected:function(e,t){return function(){return console.warn("just-detect-adblock : The `isDetected()` method is now deprecated, please use `detectAnyAdblocker()` instead, which returns a Promise and can detect more stuff (like Brave Shields)."),e.apply(this,arguments)}}(o)}},"object"==typeof i&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):(n="undefined"!=typeof globalThis?globalThis:n||self).justDetectAdblock=r()},{}]},{},[1]);