!function(){"use strict";var e=["XFPAD","WFPAD"],t=function(){return t=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var a in t=arguments[o])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},t.apply(this,arguments)};function o(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]])}return o}var n=function(e){var n=window.rapidInstance,a=e.meta,r=a.index,i=a.selectedValue,l=a.type,d=a.ylk,s=d.sec,c=d.slk,m=void 0===c?i:c,w=o(d,["sec","slk"]);w.elm||(w.elm="btn"),n.beaconClick(s,m,r,t(t({},w),{elmt:l}),"")},a=function(){var e,a=window.wafer;(e=window.s)&&e.t(),a.on("autocomplete:select",n),a.on("autocomplete:deleted",n),function(){var e=window.wafer;e.on("form:submit",(function(e){var t;if("darkmode-switcher-form"===e.elem.getAttribute("id")){var o=null===(t=e.meta.body.homeData)||void 0===t?void 0:t.theme;if(o){if("2"!==window.YAHOO.context.authed){var n=document.getElementById("darkmodeSignInURL"),a=n&&n.getAttribute("href");if(a){var r=new URL(a),i=new URLSearchParams(r.search),l=i.get(".done"),d=new URL(l);d.searchParams.set("theme",o),i.set(".done",d.toString()),r.search=i.toString(),n.setAttribute("href",r.toString())}}o="default"===(o=o.toLowerCase().replace("mode",""))?"auto":o,window.YAHOO.switchColorSchema(o)}}})),e.on("lightbox:open",(function(e){var t=e.elem,o=t.getElementsByClassName("wafer-ligthbox-source-darkmode-modal-switch")[0],n=!o&&t.getElementsByClassName("wafer-ligthbox-source-darkmode-profile-menu-toggle")[0];if(o||n){var a=document.documentElement.getAttribute("data-color-scheme");a="default"===a?"auto":a;var r=document.getElementById(a);r&&(r.checked=!0)}}));var t=document.documentElement;if("true"===t.getAttribute("data-color-theme-enabled")){var o=t.getAttribute("data-color-scheme");o&&(o="default"===o?"auto":o,window.YAHOO.switchColorSchema(o))}}(),function(){var e=window.wafer;e.on("lightbox:close",(function(n){var a=n.elem,r=n.meta,i=window.rapidInstance;if(i){var l=r.source;if("closeClick"!==l){var d=a.getElementsByClassName("wafer-lightbox-close")[0];if(!d)return;var s=e.utils.getYlkMapForNode(d,"data-ylk"),c=s.sec,m=s.slk,w=o(s,["sec","slk"]);w.elm||(w.elm="close"),i.beaconClick(c,m,0,t(t({},w),{elmt:l||"close"}),"")}}}))}(),function(){if(document.startViewTransition&&-1!==window.YAHOO.context.feature.indexOf("enableSharedElementTransition")){var e=window.matchMedia("(prefers-reduced-motion: reduce)");e&&!0===e.matches||window.wafer.features.isSlowBrowser.then((function(e){if(!e){var t=document.body;t.classList.add("enableSharedElementTransition"),window.wafer.utils.bindEvent(t,"click",(function(e){var o=e.target;if("BUTTON"!==o.tagName&&window.wafer.utils.findAncestor(o,"js-content-viewer")){var n=document.documentElement,a=n.classList.contains("Reader-open");a?n.classList.remove("viewer-open","modal-open"):n.classList.remove("Reader-open"),t.classList.add("startViewTransition"),a?n.classList.add("Reader-open"):n.classList.add("viewer-open","modal-open"),document.startViewTransition().finished.then((function(){t.classList.remove("startViewTransition")}))}}))}}))}}(),-1!==window.YAHOO.context.feature.indexOf("enableArticleClusterStoryContinuous")&&window.wafer.on("caas:article:fetch",(function(e){var t=e.elem;if("mainArticle"===t.getAttribute("id")){var o=t.getElementsByClassName("caas-readmore-collapse")[0];o&&o.parentElement.removeChild(o)}})),window.YAHOO.context.feature.indexOf("darkmode")>-1&&function(e){var t=e.key,o=e.lightboxTarget,n=e.lightboxWillMount,a=void 0===n?function(){}:n,r=window.wafer;if(t&&r.features.localStorage){var i={};try{i=JSON.parse(window.localStorage.getItem(t))||{}}catch(e){return}var l=i.shownCount||0;if(!l){var d=r.utils.getWaferInstanceForElem(document.querySelector('[data-wf-lightbox-target="#'.concat(o,'"]')),"wafer-lightbox"),s=d&&d.instance;if(!s)return;a&&a(),r.on("lightbox:close",(function(){s&&(s=null)})),s.open(),window.localStorage.setItem(t,JSON.stringify({lastShown:+Date.now(),shownCount:++l}))}}}({key:"darkmodeOnboarding",lightboxTarget:"fp-theme-lightbox-template",lightboxWillMount:function(){a.state={darkModeFirstTimeLoad:"1"}}})},r=window.wafer;r?r.ready((function(){a()})):document.body.addEventListener("wafer:ready",(function(){a()})),window.YAHOO.switchColorSchema||(window.YAHOO.switchColorSchema=function(e){var t=document.documentElement;t.setAttribute("data-color-theme-enabled","true"),t.setAttribute("data-color-scheme",e);var o=document.body.classList,n="system-theme-default-off";"dark"===e?(o.add(n,"theme-dark"),o.remove("theme-light")):"light"===e?(o.add(n,"theme-light"),o.remove("theme-dark")):o.remove(n,"theme-dark","theme-light"),window.wafer.base.colorSchema=e}),window.addEventListener("ads:finish:parse",(function(t){for(var o,n,a,r=!1,i=0,l=e;i<l.length;i++){var d=l[i];if(null===(n=null===(o=t.detail.positions)||void 0===o?void 0:o[d])||void 0===n?void 0:n.validAd){r=!0;break}if(null===(a=window.pageloadValidAds)||void 0===a?void 0:a.includes(d)){r=!0;break}}window.wafer&&r&&function(){var e=document.getElementById("module-ntk");if(e){var t=e.getElementsByClassName("ntk-ad-item")[0],o=e.getElementsByClassName("wafer-scrollview")[0];if(t&&o){var n=function(){var e=window.wafer.utils.getWaferInstanceForElem(o,"wafer-scrollview");null==e||e.instance.removeSlide(t)};window.wafer.ready((function(){try{n()}catch(e){window.wafer.on("scrollview:ready",(function(e){var t;(null===(t=e.elem.classList)||void 0===t?void 0:t.contains("scrollview-with-dot-pagination"))&&n()}))}}))}}}()}),{once:!0})}();
//# sourceMappingURL=fpMobile.js.map
