window.CQ_Analytics||(window.CQ_Analytics={});
(function(y,n){n.mboxes=n.mboxes||[];var m=function(p,g){function l(a){z&&console.log(a)}function A(a){}function t(){}function B(a){}function u(a,c){}function q(){for(var a=0;a<g.mboxes.length;a++){var c={};Array.isArray(g.mboxes[a].staticParameters)&&g.mboxes[a].staticParameters.map(function(h,
v){});for(var b=0;b<CQ_Analytics.mboxes[a].mappings.length;b++){var d="",f=CQ_Analytics.mboxes[a].mappings[b].param,k="/"+g.mboxes[a].mappings[b].ccKey.replace(".","/");-1<g.mboxes[a].isProfile.indexOf(f)&&(d="profile.");k=g.DataProvider.replaceVariables(C(k));c[d+f]="undefined"!==typeof k?k:""}g.mboxes[a].includeResolvedSegments&&g.SegmentMgr&&0<g.SegmentMgr.getResolved().length&&(c["profile._cq_.resolvedSegments"]="|"+g.SegmentMgr.getResolved().join("|")+
"|");(function(h,v){})(g.mboxes[a].name,c)}}function C(a){}function w(){var a=[];if(window.CQ_Analytics&&window.CQ_Analytics.TestTarget&&window.CQ_Analytics.TestTarget.mappings)for(var c in window.CQ_Analytics.TestTarget.mappings)a.push(c);return a}function D(){}function x(){}var E=/^(?:http|https):\/\/[^/]+(\/.*)\/(?:etc\.clientlibs|etc(\/.*)*\/clientlibs|libs(\/.*)*\/clientlibs|apps(\/.*)*\/clientlibs|etc\/designs).*\.js(\?.*)?$/,
e={};if(this.constructor===m.prototype)throw"This is a singleton!";if(m.instance)return m.instance;m.instance=e;var z=-1!==window.location.href.indexOf("debug-mbox-calls\x3d1"),r=function(){try{if(window.CQURLInfo)return CQURLInfo.contextPath||"";for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var b=E.exec(a[c].src);if(b)return b[1]}}catch(d){}return""}();e.registeredCHListeners={};e.usedStoresLoaded=!1;e.defaults={};e.mappings=[];e.maxProfileParams=200;e.pull=function(a,c,b){};e.displayOffer=function(a,c){};e.updateMboxContent=function(a,c){};e.registerMboxUpdateCalls=function(){"undefined"!==typeof window.CQ_Analytics&&window.CQ_Analytics.TestTarget.mappings&&(l("[Target][init] Registering Mbox update calls"),0<w().length?e.registerContextHubListeners():q())};e.registerContextHubListeners=function(){};e.addMbox=function(a){};e.triggerUpdate=function(a){};e.signalDefaultOffer=function(a){};return e};n.TestTarget=m(y,n);top.$(top.document).on("editor-frame-mode-changed",function(){})})($,window.CQ_Analytics);